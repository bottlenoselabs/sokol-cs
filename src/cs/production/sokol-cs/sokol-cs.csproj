<Project Sdk="Microsoft.NET.Sdk">

  <!-- MSBuild settings -->
  <PropertyGroup>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>

  <!-- My-MSBuild settings -->
  <PropertyGroup>
    <EnableRootNamespace>false</EnableRootNamespace>
    <EnableAnalyzers>true</EnableAnalyzers>
    <EnableAnalyzersStyleCop>true</EnableAnalyzersStyleCop>
    <StyleCopSettingsFilePath>$(MSBuildThisFileDirectory)/../../StyleCop.json</StyleCopSettingsFilePath>
  </PropertyGroup>

  <!-- C2CS-runtime -->
  <ItemGroup>
    <Compile Include="$(GitRepositoryPath)/ext/c2cs/src/cs/production/C2CS.Runtime/**/*.cs">
      <Link>c2cs-runtime/%(Filename)%(Extension)</Link>
    </Compile>
  </ItemGroup>

  <!-- pixel-formats-cs-->
  <ItemGroup>
    <Compile Include="$(GitRepositoryPath)/ext/pixel-formats-cs/src/*.cs">
      <Link>pixel-formats-cs/%(Filename)%(Extension)</Link>
    </Compile>
  </ItemGroup>

  <!-- Native libraries -->
  <PropertyGroup>
    <NativeLibrariesPath>$(GitRepositoryPath)/lib</NativeLibrariesPath>
  </PropertyGroup>
  <ItemGroup>
    <Content Condition="Exists('$(NativeLibrariesPath)/sokol.dll')" Include="$(NativeLibrariesPath)/sokol.dll">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Condition="Exists('$(NativeLibrariesPath)/sokol.pdb')" Include="$(NativeLibrariesPath)/sokol.pdb">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Condition="Exists('$(NativeLibrariesPath)/sokol.ilk')" Include="$(NativeLibrariesPath)/sokol.ilk">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Condition="Exists('$(NativeLibrariesPath)/libsokol.dylib')" Include="$(NativeLibrariesPath)/libsokol.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Condition="Exists('$(NativeLibrariesPath)/libsokol.so')" Include="$(NativeLibrariesPath)/libsokol.so">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>

</Project>
